
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="vqJV77bZM6" />
  
    <title>使用 Swift 在 iOS 10 中集成 Siri —— SiriKit 教程（Part 1） | Swift 教程 - Swift 语言学习 - Swift code - SwiftGG 翻译组 - 高质量的 Swift 译文网站</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="SwiftGG">
    

    <meta name="keywords" content="ios sirikit,siri开发,swift语言,swift翻译,swift学习">
    <meta name="applicable-device" content="pc,mobile">
    <meta name="description" content="这次的教程是使用 SiriKit 在 Swift 2.0 开发的工程引入 Siri 功能，感兴趣的来看下吧。">
<meta name="keywords" content="ios sirikit,siri开发">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 Swift 在 iOS 10 中集成 Siri —— SiriKit 教程（Part 1）">
<meta property="og:url" content="https://swift.gg/2016/06/28/adding-siri-to-ios-10-apps-in-swift-tutorial/index.html">
<meta property="og:site_name" content="SwiftGG">
<meta property="og:description" content="这次的教程是使用 SiriKit 在 Swift 2.0 开发的工程引入 Siri 功能，感兴趣的来看下吧。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://swiftgg-main.b0.upaiyun.com/img/adding-siri-to-ios-10-apps-in-swift-tutorial-1.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-1.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-2.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-3.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-4.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-5.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-6.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-7.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-8.png">
<meta property="og:image" content="http://jamesonquave.com/blog/wp-content/uploads/siri-1-9.png">
<meta property="og:updated_time" content="2018-05-10T02:09:38.982Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用 Swift 在 iOS 10 中集成 Siri —— SiriKit 教程（Part 1）">
<meta name="twitter:description" content="这次的教程是使用 SiriKit 在 Swift 2.0 开发的工程引入 Siri 功能，感兴趣的来看下吧。">
<meta name="twitter:image" content="http://swiftgg-main.b0.upaiyun.com/img/adding-siri-to-ios-10-apps-in-swift-tutorial-1.png">

    
    <link rel="alternative" href="/atom.xml" title="SwiftGG" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon_new.ico">
    
    
    <link rel="apple-touch-icon" href="/img/logo_new.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/logo_new.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo_new.png" alt="SwiftGG" title="SwiftGG"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="SwiftGG">SwiftGG</a></h1>
				<h2 class="blog-motto">走心的 Swift 翻译组</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
						<li><a href="/stat">统计</a></li>
					
					<li>
 					
						<form class="search" method="GET" action="http://search.swift.gg/cse/search" target="_blank">
							<label>搜索</label>
						<input name="s" type="hidden" value= 4873498141517765035 ><input type="search" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		
  <header class="article-info clearfix">
    <h1 itemprop="name">
      
        <a href="/2016/06/28/adding-siri-to-ios-10-apps-in-swift-tutorial/" target="_blank" title="使用 Swift 在 iOS 10 中集成 Siri —— SiriKit 教程（Part 1）" itemprop="url">使用 Swift 在 iOS 10 中集成 Siri —— SiriKit 教程（Part 1）</a>
    </h1>
    <p class="article-time">
      <time datetime="2016-06-28T10:00:00.000Z" itemprop="datePublished">2016-06-28</time>
      <span style="margin-left: 0.5em;"><i class="icon-eye-open"></i> <span class="viewcount"></span></span>
    </p>
  </header>

	<div class="article-content">
		
		<blockquote>
<p>作者：Jameson Quave，<a href="http://jamesonquave.com/blog/adding-siri-to-ios-10-apps-in-swift-tutorial/" target="_blank" rel="noopener">原文链接</a>，原文日期：2016-06-14<br>译者：<a href="http://www.jianshu.com/users/7a2d2cc38444/latest_articles" target="_blank" rel="noopener">Crystal Sun</a>；校对：<a href="https://github.com/Cee" target="_blank" rel="noopener">Cee</a>；定稿：<a href="http://www.jianshu.com/users/7a07113a6597/latest_articles" target="_blank" rel="noopener">Channe</a></p>
</blockquote>
<!--此处开始正文-->
<p><strong>这篇教程写于 2016 年 6 月 13 日，使用 Xcode 8 Beta 1 和 Swift 3.0 toolchain（工具链）。</strong></p>
<h3 id="下载-Xcode-8，配置-iOS-10-和-Swift-3"><a href="#下载-Xcode-8，配置-iOS-10-和-Swift-3" class="headerlink" title="下载 Xcode 8，配置 iOS 10 和 Swift 3"></a>下载 Xcode 8，配置 iOS 10 和 Swift 3</h3><p>如果你还没有下载 Xcode 8 Beta 1，请到<a href="https://developer.apple.com/download/" target="_blank" rel="noopener">这里</a>下载。</p>
<h3 id="（可选）通过命令行编译"><a href="#（可选）通过命令行编译" class="headerlink" title="（可选）通过命令行编译"></a>（可选）通过命令行编译</h3><p>除非你想使用命令行编译，使用 Swift 3.0 的工具链并不需要对项目做任何改变。如果你想的话，打开 Xcode-beta，然后从顶部菜单栏中选择 <strong>Xcode &gt; Preferences</strong>，接着选择 <strong>Location</strong>，在页面的底部，你会看到「Command Line Tool」这行设置，请在这里选择 Xcode 8.0。</p>
<a id="more"></a>
<p>现在，在 Terminal 使用命令行找到工程所在的文件夹，调用 <code>xcodebuild</code> 命令就可以编译工程了。</p>
<h3 id="（可选）移植现有的-Swift-2-应用"><a href="#（可选）移植现有的-Swift-2-应用" class="headerlink" title="（可选）移植现有的 Swift 2 应用"></a>（可选）移植现有的 Swift 2 应用</h3><p>如果你想对一个已使用 Swift 2.0 开发的工程引入 Siri 功能，需要点击工程，选择 <strong>Build Settings</strong>，在 <strong>Swift Compiler - Version</strong> 下面，找到 <strong>Use Legacy Swift Language Version</strong> 选项，设置成 <strong>No</strong>。这会造成编译器报错，然后你可以根据这些报错信息来修改代码，推荐你使用这个设置来更新代码，以适应 Swift 不断进化的语义。</p>
<h3 id="开始使用-SiriKit"><a href="#开始使用-SiriKit" class="headerlink" title="开始使用 SiriKit"></a>开始使用 SiriKit</h3><p>首先，在你的 App（或者是新建一个单视图的 Swift 模板工程），点击顶部的工程，然后点击左侧下方的 + 按钮，在这里（译者注：我在这里添加了一张图片，能够说的更明白）点击。</p>
<p><img src="http://swiftgg-main.b0.upaiyun.com/img/adding-siri-to-ios-10-apps-in-swift-tutorial-1.png" alt=""></p>
<p>弹出的窗口中，选择 <strong>iOS &gt; Application Extension</strong>，接着选择 <strong>Intents Extension</strong>。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-1.png" alt=""></p>
<p>这样就给工程添加了一个新的 intent，用于监听 Siri 的命令。其中的 Product Name 应该和你的工程文件名字相似，比如，你的 App 名为 <strong>MusicMatcher</strong>，你可以把这个 intent 的名字命名为 <strong>MusicMatcherSiriIntent</strong>。一定要选中 <strong>Include UI Extension</strong> 选项，我们之后会用到，这也是添加额外扩展的最简单的方法。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-2.png" alt=""></p>
<p>我刚刚创建的两个新 target 可以从项目的文件层级上找到。找到 Intent 文件夹下的 <strong>IntentHandler.swift</strong> 文件，看一下这里面的样本代码。默认会提供一些示例代码，允许用户说一下诸如「用 MusicMatcher 开始锻炼」的命令，MusicMatcher 是 App 的名字。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-3.png" alt=""></p>
<h3 id="像这样运行示例应用"><a href="#像这样运行示例应用" class="headerlink" title="像这样运行示例应用"></a>像这样运行示例应用</h3><p>这个时候最好编译一下代码，然后在 iOS 真机上试一下命令。继续，编译应用的 target，从 Scheme 下拉菜单里选择 <strong>MusicMatcher</strong>，然后选择真机，点击 Run。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-4.png" alt=""></p>
<p>你看你会看到一个空白的应用出现，你使用的扩展这时会在后台加载到设备的系统文件里，现在点击 Stop 按钮来关闭应用。</p>
<p>接下来，找到你的 scheme，选择 Intent target，点击 Run。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-5.png" alt=""></p>
<p>这时会出现一个弹出框，问你需要连接哪个应用，选择你刚刚运行的应用：MusicMatcher。这会让真机上再次出现这个应用（还是一个空白的应用），不过这次调试台（debugger）中会出现连接的 Intent 扩展。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-6.png" alt=""></p>
<p>现在点击 home 按钮回到首屏，或者应用可能自己就退出了，因为你正在运行的是 Intent，不是应用本身（这不是崩溃！！！）。</p>
<h3 id="启用扩展"><a href="#启用扩展" class="headerlink" title="启用扩展"></a>启用扩展</h3><p>扩展都已安装就位了，但是作为一个 iOS 用户，仍然需要进行 Siri 设置才能使用扩展。点击测试设备里的 <strong>Settings</strong>，选择 <strong>Siri</strong> 菜单，你会看到 <strong>MusicMatcher</strong> 出现在清单里，激活允许使用 Siri。</p>
<h3 id="测试我们第一个-Siri-命令"><a href="#测试我们第一个-Siri-命令" class="headerlink" title="测试我们第一个 Siri 命令"></a>测试我们第一个 Siri 命令</h3><p>尝试一下 Siri 命令，长按 Home 键或者说出「Hey Siri」来激活 Siri（当然需要你已经激活「Hey Siri」功能）。</p>
<p>试一下命令，比如「使用 MusicMatcher 开始锻炼」。</p>
<h4 id="「对不起，你需要在应用里继续。」"><a href="#「对不起，你需要在应用里继续。」" class="headerlink" title="「对不起，你需要在应用里继续。」"></a>「对不起，你需要在应用里继续。」</h4><p>如果你像我一样遇到了这样的错误信息：「Sorry, you’ll need to continue in the app.」（不知道什么原因，偶尔会出现这么一个问题，什么鬼？）</p>
<p>在控制台中你可能会看到类似的信息：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dyld: Library not loaded: @rpath/libswiftCoreLocation.dylib</span><br><span class="line">  Referenced from: /private/var/containers/Bundle/Application/CC815FA3-EB04-4322-B2BB-8E3F960681A0/LockScreenWidgets.app/PlugIns/JQIntentWithUI.appex/JQIntentWithUI</span><br><span class="line">  Reason: image not found</span><br><span class="line">Program ended with <span class="built_in">exit</span> code: 1</span><br></pre></td></tr></table></figure>
<p>我们还需要在工程里添加 CoreLocation 库，确保能添加到我们编译过的 Swift 工程中。</p>
<p>再次选择工程根目录，选择 <strong>MusicMatcher target</strong>。在 <strong>General</strong> 底下找到 <strong>Linked Frameworks and Libraries</strong>。点击 + 按钮，添加 CoreLocation.framework。现在可以再次编译在真机上运行，接着照着上面相同的步骤再次编译运行 intent target。</p>
<p>最后，从手机桌面激活 Siri。</p>
<p>「Hey Siri！」<br>「Start my workout using MusicMatcher（使用 MusicMatcher 开始锻炼）」</p>
<p>Siri 这时候应该会回应：「OK. exercise started on MusicMatcher（OK，开始用 MusicMatcher 锻炼身体）」，然后会出现一个 UI 界面写着「Workout Started（锻炼开始）」。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-7.png" alt=""></p>
<h3 id="它是如何工作的呢？"><a href="#它是如何工作的呢？" class="headerlink" title="它是如何工作的呢？"></a>它是如何工作的呢？</h3><p>模板中的 IntentHandler 类使用了一长串的协议：</p>
<p>首先最主要的就是 <code>INExtension</code>，允许我们一开始就把类当作一个 intent extension 来用。剩下的协议都是 intent handler 类型，在类里能够回调：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">INStartWorkoutIntentHandling</span></span><br><span class="line"><span class="type">INPauseWorkoutIntentHandling</span></span><br><span class="line"><span class="type">INResumeWorkoutIntentHandling</span></span><br><span class="line"><span class="type">INCancelWorkoutIntentHandling</span></span><br><span class="line"><span class="type">INEndWorkoutIntentHandling</span></span><br></pre></td></tr></table></figure>
<p>第一个就是我们刚刚测试过的，<code>INStartWorkoutIntentHandling</code>。</p>
<p>按住 Command 键点击这些协议的名字，会看到苹果提供的文档：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment"> @brief Protocol to declare support for handling an INStartWorkoutIntent </span></span><br><span class="line"><span class="comment"> @abstract By implementing this protocol, a class can provide logic for resolving, confirming and handling the intent.</span></span><br><span class="line"><span class="comment"> @discussion The minimum requirement for an implementing class is that it should be able to handle the intent. The resolution and confirmation methods are optional. The handling method is always called last, after resolving and confirming the intent.</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<p>换句话说，这协议告诉 SiriKit 我们准备处理英文句子「Start my workout with <em>AppName</em> Here.」</p>
<p>这会根据用户使用语言的不同而不同，不过最终的目的都是开始一次锻炼。<code>INStartWorkoutIntentHandling</code> 协议调用的几个方法都在示例代码里实现了。如果你想创建一个锻炼应用，你可以自行了解其他的内容。不过在这篇教程的剩余部分，我会添加一个新的 intent handler，来处理发送消息。</p>
<h3 id="添加一个新的消息-Intent"><a href="#添加一个新的消息-Intent" class="headerlink" title="添加一个新的消息 Intent"></a>添加一个新的消息 Intent</h3><p>确认应用可以完美运行后，让我们继续，添加一个新的 intent 类型，用于发送消息，<a href="https://developer.apple.com/library/prerelease/content/documentation/Intents/Conceptual/SiriIntegrationGuide/SiriDomains.html" target="_blank" rel="noopener">这里</a>的文档说明了下列信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Send a message</span><br><span class="line">Handler:INSendMessageIntentHandling protocol</span><br><span class="line">Intent:INSendMessageIntent</span><br><span class="line">Response:INSendMessageIntentResponse</span><br></pre></td></tr></table></figure>
<p>在类里添加 <code>INSendMessageIntentHandling</code> 协议。首先要明确，我们把它添加到类协议清单里，也就是在 IntentHandler.swift 文件里。由于实际上我不想使用这些 intent，所以我会删除它们，只留下这一个：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntentHandler</span>: <span class="title">INExtension</span>, <span class="title">INSendMessageIntentHandling</span> </span>&#123;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>如果这时候编译，是不会通过编译的，因为我们还需要实现一些遵守 <code>INSendMessageIntentHandling</code> 协议所必需的方法。</p>
<p>另外，如果你需要核对具体是哪些方法，只需要按住 Command 键然后鼠标点击 <code>INSendMessageIntentHandling</code>，然后看一下哪些方法前面没有 <code>optional</code> 关键词即可。</p>
<p>在这里，我们发现只有一个必须实现的方法：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment"> @brief handling method</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @abstract Execute the task represented by the INSendMessageIntent that's passed in</span></span><br><span class="line"><span class="comment"> @discussion This method is called to actually execute the intent. The app must return a response for this intent.</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @param  sendMessageIntent The input intent</span></span><br><span class="line"><span class="comment"> @param  completion The response handling block takes a INSendMessageIntentResponse containing the details of the result of having executed the intent</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @see  INSendMessageIntentResponse</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">handle</span><span class="params">(sendMessage intent: INSendMessageIntent, completion: <span class="params">(INSendMessageIntentResponse)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</span><br></pre></td></tr></table></figure>
<h4 id="遵守新消息意图协议"><a href="#遵守新消息意图协议" class="headerlink" title="遵守新消息意图协议"></a>遵守新消息意图协议</h4><p>回到 IntentHandler.swift 文件，添加一行分隔符（借助 jump bar，在导航查找代码时这个分隔符会非常有用）</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MARK: - INSendMessageIntentHandling</span></span><br></pre></td></tr></table></figure>
<p>在 MARK 底下，我们来实现方法。我发现 Xcode 8 非常有用，通过敲击方法名字的开始部分，剩下的都能交给自动补全来完成了，然后选择对应的方法。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-8.png" alt=""></p>
<p>在 handler 里，我们需要创建一个 <code>INSendMessageIntentResponse</code>，来回调闭包。先假设所有的信息发送都很成功，在 <code>INSendMessageIntentResponse</code> 里返回一个用户活动的成功值，和默认模板中的实现非常类似。还需要添加一个 print 方法，当 handler 方法被 Siri 事件触发后我们就能知晓啦：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">handle</span><span class="params">(sendMessage intent: INSendMessageIntent, completion: <span class="params">(INSendMessageIntentResponse)</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Message intent is being handled."</span>)</span><br><span class="line">    <span class="keyword">let</span> userActivity = <span class="type">NSUserActivity</span>(activityType: <span class="type">NSStringFromClass</span>(<span class="type">INSendMessageIntent</span>))</span><br><span class="line">    <span class="keyword">let</span> response = <span class="type">INSendMessageIntentResponse</span>(code: .success, userActivity: userActivity)</span><br><span class="line">    completion(response)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="把这个-intent-类型添加到-Info-plist"><a href="#把这个-intent-类型添加到-Info-plist" class="headerlink" title="把这个 intent 类型添加到 Info.plist"></a>把这个 intent 类型添加到 Info.plist</h4><p>在具备处理 <code>INSendMessageIntent</code> 方法之前，我们需要在 Info.plist 文件里添加一些值，就当作是应用的授权吧。</p>
<p>在 <strong>intent</strong> 的 Info.plist 文件里，找到并点开 <code>NSExtension</code> 键。接着点开 <code>NSExtensionAttributes</code>，然后是 <code>IntentsSupported</code>，我们需要给 <code>INSendMessageIntent</code> 新添加一行，允许应用处理信息 intents。</p>
<p><img src="http://jamesonquave.com/blog/wp-content/uploads/siri-1-9.png" alt=""></p>
<h4 id="测试新的-intent"><a href="#测试新的-intent" class="headerlink" title="测试新的 intent"></a>测试新的 intent</h4><p>现在我们已经设置好了新的 intent，来测试一下。记住，你必须先编译 App，在真机上运行，接着运行扩展进行调试，如果你不这样做，扩展要么不会工作，要么不会在 Xcode 的控制台中打印日志。</p>
<p>调用 Siri 的 intent，你现在可以看到会出现一个新的信息窗口，这个窗口目前还是空的，毕竟我们还没有给应用编写什么逻辑，我们需要实现剩下的调用，还要添加一些信息的逻辑，实现更好的用户体验。我们会在 <a href="http://jamesonquave.com/blog/sirikit-swift-3-resolutions-sirikit-tutorial-part-2/" target="_blank" rel="noopener">已经发布的 Part 2</a> 里解决这些事情。</p>
<blockquote>
<p>本文由 SwiftGG 翻译组翻译，已经获得作者翻译授权，最新文章请访问 <a href="http://swift.gg">http://swift.gg</a>。</p>
</blockquote>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/JamesonQuave-com/">JamesonQuave.com</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Swift-进阶/">Swift 进阶</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://swift.gg/2016/06/28/adding-siri-to-ios-10-apps-in-swift-tutorial/" data-title="使用 Swift 在 iOS 10 中集成 Siri —— SiriKit 教程（Part 1） | SwiftGG" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/06/29/message-sticker-app/" title="使用 Xcode 8 为 iMessage 创建表情包插件">
  <strong>上一篇</strong><br/>
  <span>
  使用 Xcode 8 为 iMessage 创建表情包插件</span>
</a>
</div>


<div class="next">
<a href="/2016/06/27/refactoring-to-creation-method/"  title="《重构与模式》 Swift 版之创建方法">
 <strong>下一篇</strong><br/> 
 <span>《重构与模式》 Swift 版之创建方法
</span>
</a>
</div>

</nav>

	


<section id="comments" class="comment">
  <div id="gitcomment">
  </div>
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
    var gitment = new Gitment({
      id: "2016/06/28/adding-siri-to-ios-10-apps-in-swift-tutorial/",
      owner: "SwiftGGBot",
      repo: "gg-comment",
      oauth: {
        client_id: "8ed6aa0071e9d92f7ffc",
        client_secret: "29cc2c70290fad40a967780e5b49d86501348ddf",
      },
    })
    gitment.render('gitcomment')
    </script>
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#下载-Xcode-8，配置-iOS-10-和-Swift-3"><span class="toc-number">1.</span> <span class="toc-text">下载 Xcode 8，配置 iOS 10 和 Swift 3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（可选）通过命令行编译"><span class="toc-number">2.</span> <span class="toc-text">（可选）通过命令行编译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（可选）移植现有的-Swift-2-应用"><span class="toc-number">3.</span> <span class="toc-text">（可选）移植现有的 Swift 2 应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开始使用-SiriKit"><span class="toc-number">4.</span> <span class="toc-text">开始使用 SiriKit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#像这样运行示例应用"><span class="toc-number">5.</span> <span class="toc-text">像这样运行示例应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用扩展"><span class="toc-number">6.</span> <span class="toc-text">启用扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#测试我们第一个-Siri-命令"><span class="toc-number">7.</span> <span class="toc-text">测试我们第一个 Siri 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#「对不起，你需要在应用里继续。」"><span class="toc-number">7.1.</span> <span class="toc-text">「对不起，你需要在应用里继续。」</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#它是如何工作的呢？"><span class="toc-number">8.</span> <span class="toc-text">它是如何工作的呢？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加一个新的消息-Intent"><span class="toc-number">9.</span> <span class="toc-text">添加一个新的消息 Intent</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#遵守新消息意图协议"><span class="toc-number">9.1.</span> <span class="toc-text">遵守新消息意图协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#把这个-intent-类型添加到-Info-plist"><span class="toc-number">9.2.</span> <span class="toc-text">把这个 intent 类型添加到 Info.plist</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#测试新的-intent"><span class="toc-number">9.3.</span> <span class="toc-text">测试新的 intent</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/APPVENTURE/" title="APPVENTURE">APPVENTURE<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/Andyy-Hope/" title="Andyy Hope">Andyy Hope<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/AppCoda/" title="AppCoda">AppCoda<sup>39</sup></a></li>
		  
		
		  
			<li><a href="/categories/Arthur-Knopper/" title="Arthur Knopper">Arthur Knopper<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Big-O-Note-Taking/" title="Big O Note-Taking">Big O Note-Taking<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Coding-Explorer-Blog/" title="Coding Explorer Blog">Coding Explorer Blog<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Crunchy-Development/" title="Crunchy Development">Crunchy Development<sup>24</sup></a></li>
		  
		
		  
			<li><a href="/categories/Erica-Sadun/" title="Erica Sadun">Erica Sadun<sup>67</sup></a></li>
		  
		
		  
			<li><a href="/categories/IOSCREATOR/" title="IOSCREATOR">IOSCREATOR<sup>29</sup></a></li>
		  
		
		  
			<li><a href="/categories/Jacob-Bandes-Storch/" title="Jacob Bandes-Storch">Jacob Bandes-Storch<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Jameson-Quave/" title="Jameson Quave">Jameson Quave<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/JamesonQuave-com/" title="JamesonQuave.com">JamesonQuave.com<sup>18</sup></a></li>
		  
		
		  
			<li><a href="/categories/Jesse-Squires/" title="Jesse Squires">Jesse Squires<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/KHANLOU/" title="KHANLOU">KHANLOU<sup>18</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mike-Ash/" title="Mike Ash">Mike Ash<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Natasha-The-Robot/" title="Natasha The Robot">Natasha The Robot<sup>48</sup></a></li>
		  
		
		  
			<li><a href="/categories/Ole-Begemann/" title="Ole Begemann">Ole Begemann<sup>31</sup></a></li>
		  
		
		  
			<li><a href="/categories/Open-Source-Swift/" title="Open Source Swift">Open Source Swift<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/Raj-Kandathi/" title="Raj Kandathi">Raj Kandathi<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Reinder-de-Vries/" title="Reinder de Vries">Reinder de Vries<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Russ-Bishop/" title="Russ Bishop">Russ Bishop<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Soroush-Khanlou/" title="Soroush Khanlou">Soroush Khanlou<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift-and-Painless/" title="Swift and Painless">Swift and Painless<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/Swift-入门/" title="Swift 入门">Swift 入门<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift-进阶/" title="Swift 进阶">Swift 进阶<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Think-and-Build/" title="Think and Build">Think and Build<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Thomas-Hanning/" title="Thomas Hanning">Thomas Hanning<sup>21</sup></a></li>
		  
		
		  
			<li><a href="/categories/Thoughtbot/" title="Thoughtbot">Thoughtbot<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tomasz-Szulc/" title="Tomasz Szulc">Tomasz Szulc<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Wooji-Juice/" title="Wooji Juice">Wooji Juice<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/alisoftware/" title="alisoftware">alisoftware<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/alloc-init/" title="alloc-init">alloc-init<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/iAchieved-it/" title="iAchieved.it">iAchieved.it<sup>22</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS-开发/" title="iOS 开发">iOS 开发<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/khanlou-com/" title="khanlou.com">khanlou.com<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/medium-com/" title="medium.com">medium.com<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/mikeash-com/" title="mikeash.com">mikeash.com<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/radex-io/" title="radex.io">radex.io<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/swiftandpainless/" title="swiftandpainless">swiftandpainless<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/uraimo/" title="uraimo">uraimo<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创文章/" title="原创文章">原创文章<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/投稿/" title="投稿">投稿<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/直播资源/" title="直播资源">直播资源<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/社区问答/" title="社区问答">社区问答<sup>19</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Swift-进阶/" title="Swift 进阶">Swift 进阶<sup>168</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-入门/" title="Swift 入门">Swift 入门<sup>128</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-开发/" title="iOS 开发">iOS 开发<sup>75</sup></a></li>
			
		
			
				<li><a href="/tags/Swift/" title="Swift">Swift<sup>67</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-跨平台/" title="Swift 跨平台">Swift 跨平台<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-开源信息/" title="Swift 开源信息">Swift 开源信息<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/WatchOS-2/" title="WatchOS 2">WatchOS 2<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-3/" title="Swift 3">Swift 3<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-入门/" title="iOS 入门">iOS 入门<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Xcode/" title="Xcode">Xcode<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Apple-TV-开发/" title="Apple TV 开发">Apple TV 开发<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-9/" title="iOS 9">iOS 9<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/IOSCREATOR/" title="IOSCREATOR">IOSCREATOR<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-2/" title="Swift 2">Swift 2<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/社区问答/" title="社区问答">社区问答<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Jesse-Squires/" title="Jesse Squires">Jesse Squires<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-进化/" title="Swift 进化">Swift 进化<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/WWDC/" title="WWDC">WWDC<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/推送通知/" title="推送通知">推送通知<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-开源/" title="Swift 开源">Swift 开源<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://c4ios.swift.gg" target="_blank" title="C4iOS 教程">C4iOS 教程</a>
            
          </li>
        
          <li>
            
            	<a href="http://swift.gg/2016/03/14/live-video/" target="_blank" title="SwiftGG直播">SwiftGG直播</a>
            
          </li>
        
          <li>
            
            	<a href="http://t.swift.gg/" target="_blank" title="T 沙龙">T 沙龙</a>
            
          </li>
        
          <li>
            
            	<a href="http://codebuild.me" target="_blank" title="Code Build Me">Code Build Me</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.saitjr.com" target="_blank" title="//TODO:">//TODO:</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.5isjyx.com/" target="_blank" title="chiba">chiba</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.cee.moe" target="_blank" title="Perfect Freeze">Perfect Freeze</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.swiftyper.com" target="_blank" title="小锅的 swift 之路">小锅的 swift 之路</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.futantan.com/" target="_blank" title="Prayer 的博客">Prayer 的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.csdn.net/mmoaay" target="_blank" title="画渣程序猿 mmoaay">画渣程序猿 mmoaay</a>
            
          </li>
        
          <li>
            
            	<a href="http://linusling.com" target="_blank" title="小铁匠的 swift 之路">小铁匠的 swift 之路</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.jianshu.com/users/596f2ba91ce9/latest_articles" target="_blank" title="ppppppmst 的简书博客">ppppppmst 的简书博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://chenmingbiao.github.io/" target="_blank" title="CMB 的博客">CMB 的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://wxgbridgeq.github.io/" target="_blank" title="BridgeQ">BridgeQ</a>
            
          </li>
        
          <li>
            
            	<a href="http://chengway.in" target="_blank" title="walkingway 的博客">walkingway 的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.dianqk.org" target="_blank" title="靛青K">靛青K</a>
            
          </li>
        
          <li>
            
            	<a href="http://ijack.pw/" target="_blank" title="JackAlan">JackAlan</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.swiftconchina.com" target="_blank" title="SwiftConChina">SwiftConChina</a>
            
          </li>
        
          <li>
            
            	<a href="http://swiftcn.io" target="_blank" title="Swift 中国">Swift 中国</a>
            
          </li>
        
          <li>
            
            	<a href="https://boxueio.com/" target="_blank" title="泊学">泊学</a>
            
          </li>
        
          <li>
            
            	<a href="https://bearychat.com/" target="_blank" title="BearyChat">BearyChat</a>
            
          </li>
        
          <li>
            
            	<a href="http://bbs.php-z.com" target="_blank" title="PHP-Z 论坛">PHP-Z 论坛</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.swiftguide.cn" target="_blank" title="官方文档">官方文档</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.upyun.com/" target="_blank" title="又拍云赞助图床">又拍云赞助图床</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="wechatpart">
	<p class="asidetitle">微信公众号</p>
	<img src="/img/wechat.jpg" />
</div>

</aside>
</div>
    </div>
    <footer>


<div id="footer" >
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="SwiftGG">SwiftGG</a>
		
		 | 
		<a href="http://www.miitbeian.gov.cn" target="_blank">浙ICP备14022870号-3</a>
		</p>
</div>
<img src="/img/logo_new.jpg" style="position: fixed; top: -9999px;height: 500px;width: 500px;">
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>
<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script src="/js/mm.js"></script>
<script src="/js/subscribe.js"></script>

<div id="swiftweekly" style="display:none;">
  <img id="closeme" src="/img/close.png">
  <span id="sw_slogan">订阅同样走心的<b>『<a style="color: white;text-decoration:underline;" target="_blank" href="http://swiftweekly.cn">Swift开发者周报</a>』</b>&nbsp;</span>
  <form id="content">
    <input name="email" id="sw_email" placeholder="输入邮箱地址" type="email" /><a class="sw_sub">订阅</a>
  </form>
</div>

<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script type="text/javascript">
$(document).ready(function(){

  

  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66150920-1', 'auto');
  ga('send', 'pageview');

</script>





<!-- Analytics End -->

<!-- Totop Begin -->
<!--
	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>
-->
<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
