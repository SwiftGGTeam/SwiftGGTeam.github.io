
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="vqJV77bZM6" />
  
    <title>Swift 泛型应用 | Swift 4 泛型：如何在你的代码或App里应用泛型 | Swift 教程 - Swift 语言学习 - Swift code - SwiftGG 翻译组 - 高质量的 Swift 译文网站</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="SwiftGG">
    

    <meta name="keywords" content="Swift 泛型，Swift generics,swift语言,swift翻译,swift学习">
    <meta name="applicable-device" content="pc,mobile">
    <meta name="description" content="本文详细讲解了 Swift 中的泛型是什么？ 如何使用泛型？">
<meta name="keywords" content="Swift 泛型，Swift generics">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift 4 泛型：如何在你的代码或App里应用泛型">
<meta property="og:url" content="https://swift.gg/2018/08/28/swift-generics/index.html">
<meta property="og:site_name" content="SwiftGG">
<meta property="og:description" content="本文详细讲解了 Swift 中的泛型是什么？ 如何使用泛型？">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://swift.gg/img/articles/swift-generics/68747470733a2f2f617070636f64612e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30322f73776966742d342d67656e65726963732d312e706e671535431541.3460808">
<meta property="og:updated_time" content="2018-12-06T06:31:24.893Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift 4 泛型：如何在你的代码或App里应用泛型">
<meta name="twitter:description" content="本文详细讲解了 Swift 中的泛型是什么？ 如何使用泛型？">
<meta name="twitter:image" content="https://swift.gg/img/articles/swift-generics/68747470733a2f2f617070636f64612e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30322f73776966742d342d67656e65726963732d312e706e671535431541.3460808">

    
    <link rel="alternative" href="/atom.xml" title="SwiftGG" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon_new.ico">
    
    
    <link rel="apple-touch-icon" href="/img/logo_new.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/logo_new.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo_new.png" alt="SwiftGG" title="SwiftGG"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="SwiftGG">SwiftGG</a></h1>
				<h2 class="blog-motto">走心的 Swift 翻译组</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
						<li><a href="/stat">统计</a></li>
					
					<li>
 					
						<form class="search" method="GET" action="http://search.swift.gg/cse/search" target="_blank">
							<label>搜索</label>
						<input name="s" type="hidden" value= 4873498141517765035 ><input type="search" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		
  <header class="article-info clearfix">
    <h1 itemprop="name">
      
        <a href="/2018/08/28/swift-generics/" target="_blank" title="Swift 4 泛型：如何在你的代码或App里应用泛型" itemprop="url">Swift 4 泛型：如何在你的代码或App里应用泛型</a>
    </h1>
    <p class="article-time">
      <time datetime="2018-08-28T00:00:00.000Z" itemprop="datePublished">2018-08-28</time>
      <span style="margin-left: 0.5em;"><i class="icon-eye-open"></i> <span class="viewcount"></span></span>
    </p>
  </header>

	<div class="article-content">
		
		<blockquote>
<p>作者：Andrew Jaffee，<a href="https://appcoda.com/swift-generics" target="_blank" rel="noopener">原文链接</a>，原文日期：2018-02-14<br>译者：<a href="https://github.com/Adolf-L" target="_blank" rel="noopener">BigLuo</a>；校对：<a href="http://numbbbbb.com/" target="_blank" rel="noopener">numbbbbb</a>，<a href="http://muhlenxi.com/" target="_blank" rel="noopener">muhlenXi</a>；定稿：<a href="https://github.com/chenmingbiao" target="_blank" rel="noopener">CMB</a></p>
</blockquote>
<!--此处开始正文-->
<p>问题 1：我能否写一个 Swift 函数用于查找在<strong>任意数组</strong>中存储的<strong>任意类型</strong>的<strong>任何实例对象</strong>的位置\索引。</p>
<p>问题 2：我能否写一个 Swift 函数用于确定在<strong>任意数组</strong>中存储的<strong>任意类型</strong>的<strong>任何实例对象</strong>的类型。</p>
<p>我所说的 “任何类型”，包括自定义类型，比如我们自己定义的 Class 类型。提示：我知道我能够用 Swift <code>Array</code> 类型的内置方法，如 <code>index</code> 和 <code>contains</code>，但今天我将会用简单代码实例来说明 Swift 泛型中的一些特性。</p>
<a id="more"></a>
<p>一般来说，我将<strong>泛型编程</strong>作如下定义：</p>
<blockquote>
<p>… a style of computer programming in which algorithms are written in terms of types to-be-specified-later that are then instantiated when needed for specific types provided as parameters. This approach, pioneered by ML in 1973, permits writing common functions or types that differ only in the set of types on which they operate when used, thus reducing duplication.</p>
</blockquote>
<blockquote>
<p>是一种算法机制为 types to-be-specified-later (类型确定滞后)的计算机编程风格，当具体的类型作为参数传入后，该算法机制会对类型进行实例化。这个方法由 “ML” 在 1973 年开创。可以用共有的函数和类型来表示一个类型集合从而来减少函数操作的重复。</p>
</blockquote>
<p>特别的指出，来自<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/SwiftProgrammingLanguage/Generics.html" target="_blank" rel="noopener">苹果Swift文档</a> 关于”泛型”话题的说明：</p>
<blockquote>
<p>Generic code enables you to write flexible, reusable functions and types that can work with any type, subject to requirements that you define. You can write code that avoids duplication and expresses its intent in a clear, abstracted manner.</p>
<p>Generics are one of the most powerful features of  Swift , and much of the Swift standard library is built with generic code. … For example,  Swift ’s Array and Dictionary types are both generic collections. You can create an array that holds Int values, or an array that holds String values, or indeed an array for any other type that can be created in  Swift . Similarly, you can create a dictionary to store values of any specified type, and there are no limitations on what that type can be. …</p>
</blockquote>
<blockquote>
<p>泛型编码能让你写出符合需求、支持任意类型，灵活、可重用的函数。你能够编写避免重复和编程风格抽象、清晰、优雅的代码。</p>
<p>泛型是 Swift 中最强大的特性之一，大量的 Swift 标准库使用了泛型编码。例如， Swift 的数组和字典都是泛型集合。你可以创建一个存有整型值或者字符串值的数组，有必要的话，还可以创建一个任何 Swift 支持类型的数组。类似的，你也可以创建一个字典用于存储任意指定类型的值。</p>
</blockquote>
<p>我一直提倡构建可复用，简洁，可维护的代码，对于 Swift 中的泛型，如果运用恰当，能某种程度上帮助我实现上面提到的效果。所以对于上面两个问题，我的答案是 “YES”。</p>
<h2 id="生活在一个特定类型编码的世界"><a href="#生活在一个特定类型编码的世界" class="headerlink" title="生活在一个特定类型编码的世界"></a>生活在一个特定类型编码的世界</h2><p>让我们写一个 Swift 的方法来说明在一个字符串数组中是否存在特定的一个字符串：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">existsManual</span><span class="params">(item:String, inArray:[String])</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> index:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> found = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (index &lt; inArray.<span class="built_in">count</span> &amp;&amp; found == <span class="literal">false</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> item == inArray[index]</span><br><span class="line">        &#123;</span><br><span class="line">            found = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            index = index + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> found</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>让我们测试这个方法：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> strings = [<span class="string">"Ishmael"</span>, <span class="string">"Jacob"</span>, <span class="string">"Ezekiel"</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> nameExistsInArray = existsManual(item: <span class="string">"Ishmael"</span>, inArray: strings)</span><br><span class="line"><span class="comment">// returns true</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> nameExistsInArray1 = existsManual(item: <span class="string">"Bubba"</span>, inArray: strings)</span><br><span class="line"><span class="comment">// returns false</span></span><br></pre></td></tr></table></figure>
<p>在创建了用于查找 <code>String</code> 数组的 <code>existsManual</code> 函数后。假如我决定想要一些类似的函数用于搜索 <code>Integer</code>，<code>Float</code>，和  <code>Double</code> 数组 — 甚至用于查找数组中自定义类呢？我最终花费了宝贵的时间写了很多做同样事情的函数。我需要写很多代码来实现。如果我发现了一个新的/更快的搜索算法呢？又如果在我的搜索算法有一个 bug 呢？我不得不改变我所有的查找方法的版本。我发现这简直是个复用地狱：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">existsManual</span><span class="params">(item:String, inArray:[String])</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">existsManual</span><span class="params">(item:Int, inArray:[Int])</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">existsManual</span><span class="params">(item:Float, inArray:[Float])</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">existsManual</span><span class="params">(item:Double, inArray:[Double])</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">//  "Person"  is a custom class we'll create</span></span><br><span class="line"><span class="comment">//  "Person" 是我们将要创建的自定义的类</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">existsManual</span><span class="params">(item:Person, inArray:[Person])</span></span> -&gt; <span class="type">Bool</span></span><br></pre></td></tr></table></figure>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>我们已经厌烦了活在一个处理类型的世界里，不得不为每个我们想要查找的数组类型创建新的方法。终究这给我们带来了大量的技术负债。由于现代软件难以置信的复杂性，像你我这样的开发者需要使用更好地实践，更好的技术，更好的方法，用我们的神经元最大程度的控制这种混乱。据估计 Window 7 包含大约 4 千万行代码而 macOS 10.4 (Tiger) 包含大约 8.5 千万行代码，预估像这样的系统潜在行为次数都是不可能的。</p>
<h2 id="泛型的解决之道"><a href="#泛型的解决之道" class="headerlink" title="泛型的解决之道"></a>泛型的解决之道</h2><p>（再次紧记学习泛型的目的，我们依旧假设 Swift 的数组类型的内置的函数，<code>index</code> 和  <code>contains</code> ，不存在。）</p>
<p>让我们先尝试写这样一个 Swift 函数，判断 Swift 的标准类型（例如 <code>String</code>，<code>Integer</code>，<code>Float</code> 或 <code>Double</code>）的一个特定实例是否存在于这个 Swift 标准类型的数组中。怎么做呢？</p>
<p>让我们切换到 Swift 泛型，特别是泛型函数，类型参数，类型约束以及 <code>Equatable</code> 协议。在没有定义任何术语前，我写了一些代码，思考一下你看到的。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">exists</span>&lt;T: Equatable&gt;<span class="params">(item: T, inArray: [T])</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> index:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> found = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (index &lt; inArray.<span class="built_in">count</span> &amp;&amp; found == <span class="literal">false</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> item == inArray[index]</span><br><span class="line">        &#123;</span><br><span class="line">            found = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            index = index + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> found</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>让我们测试下我新写的泛型方法</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> myFriends:[<span class="type">String</span>] = [<span class="string">"John"</span>, <span class="string">"Dave"</span>, <span class="string">"Jim"</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isOneOfMyFriends = exists(item: <span class="string">"Dave"</span>, inArray: myFriends)</span><br><span class="line"><span class="comment">// returns true</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isOneOfMyFriends1 = exists(item: <span class="string">"Laura"</span>, inArray: myFriends)</span><br><span class="line"><span class="comment">// returns false</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> myNumbers:[<span class="type">Int</span>] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isOneOfMyNumbers = exists(item: <span class="number">3</span>, inArray: myNumbers)</span><br><span class="line"><span class="comment">// returns true</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isOneOfMyNumbers1 = exists(item: <span class="number">0</span>, inArray: myNumbers)</span><br><span class="line"><span class="comment">// returns false</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> myNumbersFloat:[<span class="type">Float</span>] = [<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>,<span class="number">4.0</span>,<span class="number">5.0</span>,<span class="number">6.0</span>,]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isOneOfMyFloatNumbers = exists(item: <span class="number">3.0000</span>, inArray: myNumbersFloat)</span><br><span class="line"><span class="comment">// returns true</span></span><br></pre></td></tr></table></figure>
<p>我新写 exists 方法是一个泛型函数，这个方法“能正常工作在任何参数类型上”，此外，让我们看看它的函数签名。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">exists</span>&lt;T: Equatable &gt;<span class="params">(item: T, inArray: [T])</span></span> -&gt; <span class="type">Bool</span></span><br></pre></td></tr></table></figure>
<p>我们看到 <strong><a href="https://docs.Swift.org/Swift-book/LanguageGuide/Generics.html" target="_blank" rel="noopener">那个</a></strong> 函数使用一个占位符类型名字(名叫 <code>T</code>, 在这个案例)而不是真正的类型名（比如：<code>Int</code>，<code>Stirng</code>，或 <code>Double</code>）占位符类型名没有指定 <code>T</code> 必须是什么，但他说明了 <code>[item]</code> 和 <code>[inArray]</code> 必须是相同的类型 <code>T</code> 无论 <code>T</code> 代表什么，每当 [<code>exists(_:_:)</code>] 函数被调用时，真实的类型用于替代 <code>T</code> 被确定下来。</p>
<p><strong>这个 exists 函数中的占位符类型 <code>T</code> 被称为类型参数</strong>：</p>
<blockquote>
<p><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/SwiftProgrammingLanguage/Generics.html" target="_blank" rel="noopener">它</a>指定和命名了占位符的类型，直接写在函数名称的后面，在一对尖括号之间(比如 <t>)。</t></p>
<p>一旦你指定一个类型参数你可以用它来定义函数参数的类型(比如：[<code>item</code>] and [<code>inArray</code>] [<code>exists(_:_:)</code> 函数)或者作为函数返回值的类型，在任何条件下，当函数被调用的时候类型参数会被真实类型替代。</p>
</blockquote>
<p>为了强化我们目前已经学到的，下面是一个 Swift 函数，该函数能够找到存储在数组中任何类型实例的索引。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find</span>&lt;T: Equatable&gt;<span class="params">(item: T, inArray: [T])</span></span> -&gt; <span class="type">Int</span>?</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> index:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> found = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (index &lt; inArray.<span class="built_in">count</span> &amp;&amp; found == <span class="literal">false</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> item == inArray[index]</span><br><span class="line">        &#123;</span><br><span class="line">            found = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            index = index + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> found</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> index</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>让我们测试下它</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> myFriends:[<span class="type">String</span>] = [<span class="string">"John"</span>, <span class="string">"Dave"</span>, <span class="string">"Jim"</span>, <span class="string">"Arthur"</span>, <span class="string">"Lancelot"</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> findIndexOfFriend = <span class="built_in">find</span>(item: <span class="string">"John"</span>, inArray: myFriends)</span><br><span class="line"><span class="comment">// returns 0</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> findIndexOfFriend1 = <span class="built_in">find</span>(item: <span class="string">"Arthur"</span>, inArray: myFriends)</span><br><span class="line"><span class="comment">// returns 3</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> findIndexOfFriend2 = <span class="built_in">find</span>(item: <span class="string">"Guinevere"</span>, inArray: myFriends)</span><br><span class="line"><span class="comment">// returns nil</span></span><br></pre></td></tr></table></figure>
<h2 id="关于-Equatable-协议"><a href="#关于-Equatable-协议" class="headerlink" title="关于 Equatable 协议"></a>关于 <code>Equatable</code> 协议</h2><p>exists 函数中 <code>&lt;T: Equatable &gt;</code> 标注是什么呢？它叫做类型约束，它规定了”那个类型参数必须继承自一个具体的类，或者遵守一个特定的协议或是协议组合。我指定了 exists 函数参数，<code>item: T</code> 和 <code>inArray: [T]</code>, 必须是类型 <code>T</code>, 而类型 <code>T</code> 必须遵守协议 <code>Equatable</code> 协议，为什么是这样的呢?</p>
<p>所有的 Swift 内置类型已经被构建支持 <code>Equatable</code> 协议。来自 <a href="https://developer.apple.com/documentation/ Swift / Equatable" target="_blank" rel="noopener">Apple docs</a>:  “遵守 <code>Equatable</code> 协议的类型进行相等比较，使用等于运算符(<code>==</code>)判断相等，或者使用不等运算符(<code>!=</code>)判断不等”。这就是为什么我的泛型函数 “exists” 能够在 Swift 的类型（如 <code>String</code>，<code>Integer</code>，<code>Float</code> 和 <code>Double</code>）上正常工作。所有这些类型都定义了 <code>==</code> 和 <code>!=</code> 运算符。 </p>
<h2 id="自定义类型和泛型"><a href="#自定义类型和泛型" class="headerlink" title="自定义类型和泛型"></a>自定义类型和泛型</h2><p>假如我声明了一个新的类叫做 “BasicPerson” 如下所示。我能用我的 exists” 函数来找出在数组中是否有 “BasicPerson” 类的一个实例的类型么？不行！为什么不行？看看下面这个代码，我们接下来讨论它：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BasicPerson</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> weight: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> sex: <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(weight: <span class="type">Int</span>, name: <span class="type">String</span>, sex: <span class="type">String</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.weight = weight</span><br><span class="line">        <span class="keyword">self</span>.sex = sex</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> <span class="type">Jim</span> = <span class="type">BasicPerson</span>(weight: <span class="number">180</span>, name: <span class="string">"Jim Patterson"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Sam</span> = <span class="type">BasicPerson</span>(weight: <span class="number">120</span>, name: <span class="string">"Sam Patterson"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Sara</span> = <span class="type">BasicPerson</span>(weight: <span class="number">115</span>, name: <span class="string">"Sara Lewis"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> basicPersons = [<span class="type">Jim</span>, <span class="type">Sam</span>, <span class="type">Sara</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isSamABasicPerson = exists(item: <span class="type">Sam</span>, inArray: basicPersons)</span><br></pre></td></tr></table></figure>
<p>看到最后一行，因为它有一个编译错误：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">error: <span class="keyword">in</span> argument type '[<span class="type">BasicPerson</span>]', '<span class="type">BasicPerson'</span> does not conform to expected type '<span class="type">Equatable'</span></span><br><span class="line"><span class="keyword">let</span> isSamABasicPerson = exists(item: <span class="type">Sam</span>, inArray: basicPersons)</span><br></pre></td></tr></table></figure>
<p><img src="/img/articles/swift-generics/68747470733a2f2f617070636f64612e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30322f73776966742d342d67656e65726963732d312e706e671535431541.3460808" alt=""></p>
<p>这很糟糕了， 在 “BasicPerson” 类型的数组里面，你不能使用 Swift 数组的内建函数 <code>index</code> 和 <code>contains</code>。(你必须定义一个闭包，每当你想使用那两个方法 blah,blah,blah… 这个我就不提了。)</p>
<p>再次回到问题，为什么报错？</p>
<p>因为 “BasicPerson” 类没有遵守 <code>Equeatable</code> 协议(这是一个提示，请看下文咯)</p>
<h2 id="遵守-Equatable-协议"><a href="#遵守-Equatable-协议" class="headerlink" title="遵守 Equatable 协议"></a>遵守 <code>Equatable</code> 协议</h2><p>为了允许我的 “BasicPerson” 类是可以使用我的 “exists” 和 “find” 泛型方法，所有我需要做的是：</p>
<ul>
<li>让类遵守 <code>Equatable</code> 协议</li>
<li>重载类实例的 <code>==</code> 操作符</li>
</ul>
<p>注意<a href="https://developer.apple.com/documentation/ Swift / Equatable" target="_blank" rel="noopener">这个</a>“Swift 标准库为所有遵循 <code>Euqatable</code> 协议的类型提供了不等于(!=) 操作符的实现。通过调用自定义的 <code>==</code> 函数获取它的取反结果。</p>
<p>如果你对操作符重载不熟悉，我建议你阅读这些主题，链接在<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/SwiftProgrammingLanguage/AdvancedOperators.html" target="_blank" rel="noopener">这里</a>和<a href="https://www.appcoda.com/operator-overloading-Swift" target="_blank" rel="noopener">这里的</a>.相信我，你会想知道操作符重载的。</p>
<blockquote>
<p>提示：我重命名 “BasicPerson” 类为 “Person” 让他们在相同的 Swift Playground 文件能共存，接着我们来到 “Person” 类。</p>
</blockquote>
<p>我将实现 <code>==</code> 操作符，所以它能比较 “Person” 类不同实例间的 “name”, “weight”, 和 “sex” 属性。如果两个 “Person” 类的实例有相同的的三个属性。则他们是相等的。如果有一个属性不同，则他们是不相等的(!=)。这就是为什么我的 “Person” 类遵守了 <code>Equatable</code> 协议：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">lass <span class="type">Person</span>: <span class="type">Equatable</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> weight:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> sex:<span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(weight: <span class="type">Int</span>, name: <span class="type">String</span>, sex: <span class="type">String</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.weight = weight</span><br><span class="line">        <span class="keyword">self</span>.sex = sex</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> == <span class="params">(lhs: Person, rhs: Person)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> lhs.weight == rhs.weight &amp;&amp;</span><br><span class="line">            lhs.name == rhs.name &amp;&amp;</span><br><span class="line">            lhs.sex == rhs.sex</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意上面的 <code>==</code> 重载方法，这需要让 “Person” 遵守 <code>Equatable</code> 协议。注意 <code>==</code> 重载方法中的 <code>lhs</code> 和 <code>rhs</code> 参数。这是通用的，当重载操作符时，代码中等号两边的对象应该与参数中的物理位置一致，如：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">lhs == rhs</span><br><span class="line"><span class="keyword">left</span>-hand side == <span class="keyword">right</span>-hand side</span><br></pre></td></tr></table></figure>
<h2 id="它实用吗？"><a href="#它实用吗？" class="headerlink" title="它实用吗？"></a>它实用吗？</h2><p>如果你跟随着我的指南，你能创建像我写的 “exists” 和 “find” 泛型函数用于任何你创建的新类型，如类或者结构体。让你自定义的类和结构体集合类型遵守 <code>Equatable</code> 协议，像 Swift 里面 <code>Array</code> 中的内置函数 <code>index</code> 和 <code>contains</code>。他们确实有用：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="type">Joe</span> = <span class="type">Person</span>(weight: <span class="number">180</span>, name: <span class="string">"Joe Patterson"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Pam</span> = <span class="type">Person</span>(weight: <span class="number">120</span>, name: <span class="string">"Pam Patterson"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Sue</span> = <span class="type">Person</span>(weight: <span class="number">115</span>, name: <span class="string">"Sue Lewis"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Jeb</span> = <span class="type">Person</span>(weight: <span class="number">180</span>, name: <span class="string">"Jeb Patterson"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Bob</span> = <span class="type">Person</span>(weight: <span class="number">200</span>, name: <span class="string">"Bob Smith"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> myPeople:<span class="type">Array</span> = [<span class="type">Joe</span>, <span class="type">Pam</span>, <span class="type">Sue</span>, <span class="type">Jeb</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> indexOfOneOfMyPeople = <span class="built_in">find</span>(item: <span class="type">Jeb</span>, inArray: myPeople)</span><br><span class="line"><span class="comment">// returns 3 from custom generic function</span></span><br><span class="line"><span class="comment">// 返回 3 源自自定义泛型函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> indexOfOneOfMyPeople1 = myPeople.index(of: <span class="type">Jeb</span>)</span><br><span class="line"><span class="comment">// returns 3 from built-in Swift member function</span></span><br><span class="line"><span class="comment">// 返回 3 源自 Swift 内建成员函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isSueOneOfMyPeople = exists(item: <span class="type">Sue</span>, inArray: myPeople)</span><br><span class="line"><span class="comment">// returns true from custom generic function</span></span><br><span class="line"><span class="comment">// 返回 true 源自自定义泛型函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isSueOneOfMyPeople1 = myPeople.<span class="built_in">contains</span>(<span class="type">Sue</span>)</span><br><span class="line"><span class="comment">// returns true from built-in Swift member function</span></span><br><span class="line"><span class="comment">// 返回 true 源自 Swift 内建成员函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> indexOfBob = <span class="built_in">find</span>(item: <span class="type">Bob</span>, inArray: myPeople)</span><br><span class="line"><span class="comment">// returns nil from custom generic function</span></span><br><span class="line"><span class="comment">// 返回 nil 源自自定义泛型函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> indexOfBob1 = myPeople.index(of: <span class="type">Bob</span>)</span><br><span class="line"><span class="comment">// returns nil from built-in Swift member function</span></span><br><span class="line"><span class="comment">// 返回 nil 源自 Swift 内建成员函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isBobOneOfMyPeople1 = exists(item: <span class="type">Bob</span>, inArray: myPeople)</span><br><span class="line"><span class="comment">// returns false from custom generic function</span></span><br><span class="line"><span class="comment">// 返回 false 源自自定义泛型函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> isBobOneOfMyPeople2 = myPeople.<span class="built_in">contains</span>(<span class="type">Bob</span>)</span><br><span class="line"><span class="comment">// returns false from built-in Swift member function</span></span><br><span class="line"><span class="comment">// 返回 false 源自 Swift 内建成员函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> <span class="type">Joe</span> == <span class="type">Pam</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"they're equal"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"they're not equal"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// returns "they're not equal"</span></span><br></pre></td></tr></table></figure>
<h2 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h2><p>苹果提示关于 <code>Equatable</code> 协议的更多好处：</p>
<blockquote>
<p>Adding  Equatable  conformance to your custom types means that you can use more convenient APIs when searching for particular instances in a collection.  Equatable  is also the base protocol for the Hashable and Comparable protocols, which allow more uses of your custom type, such as constructing sets or sorting the elements of a collection.</p>
</blockquote>
<blockquote>
<p>让你的自定义类型遵循 Equatable 协议意味着你可以使用许多系统提供的 API 来让你在一个集合里面查找特定一个实例变得更加方便。</p>
<p>Equatable 协议也是 Hashable 协议和 Comparable 协议的基础协议。这允许你使用更多的自定义类型，比如构建集合或者排序集合中的元素。</p>
</blockquote>
<p>比如，如果你遵守了 <code>comparable</code> 协议，你能重载和使用 <code>&lt;</code>，<code>&gt;</code>，<code>&lt;=</code> 和 <code>&gt;=</code> 操作符，这真的很 Cool。</p>
<h2 id="须知"><a href="#须知" class="headerlink" title="须知"></a>须知</h2><p>想一下我们的 “Person” 类，假如我们有一些类似下文所示的实例：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="type">Joe</span> = <span class="type">Person</span>(weight: <span class="number">180</span>, name: <span class="string">"Joe Patterson"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Pam</span> = <span class="type">Person</span>(weight: <span class="number">120</span>, name: <span class="string">"Pam Patterson"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Sue</span> = <span class="type">Person</span>(weight: <span class="number">115</span>, name: <span class="string">"Sue Lewis"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Jeb</span> = <span class="type">Person</span>(weight: <span class="number">180</span>, name: <span class="string">"Jeb Patterson"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Bob</span> = <span class="type">Person</span>(weight: <span class="number">200</span>, name: <span class="string">"Bob Smith"</span>, sex: <span class="string">"M"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">Jan</span> = <span class="type">Person</span>(weight: <span class="number">115</span>, name: <span class="string">"Sue Lewis"</span>, sex: <span class="string">"F"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> <span class="type">Jan</span> == <span class="type">Sue</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"they're equal"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"they're not equal"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// returns "they're equal" for 2 different objects</span></span><br><span class="line"><span class="comment">// 返回 "they're equal" 对于两个不同的对象</span></span><br></pre></td></tr></table></figure>
<p>看最后一行，因为这些 “Person” 对象中 “Jan” 和 “Sue” 对象是绝对相等的。即使他们是两个不同的实例对象。你的软件好坏仅仅取决于你的设计。在数据库的术语体系里， “Person” 类集合中，你会需要一个”主键” — 或许在类的设计中，可以添加一个索引变量。比如一个社会安全码、或者你熟知的其他的唯一值来保证 “Person” 类实例在集合 (<code>Array</code>) 中的唯一性，当然啦，你也可以使用 <code>===</code> 操作符。</p>
<p>享用吧！</p>
<blockquote>
<p>本文由 SwiftGG 翻译组翻译，已经获得作者翻译授权，最新文章请访问 <a href="http://swift.gg">http://swift.gg</a>。</p>
</blockquote>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/AppCoda/">AppCoda</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Swift/">Swift</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://swift.gg/2018/08/28/swift-generics/" data-title="Swift 4 泛型：如何在你的代码或App里应用泛型 | SwiftGG" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2018/08/30/never/" title="Never">
  <strong>上一篇</strong><br/>
  <span>
  Never</span>
</a>
</div>


<div class="next">
<a href="/2018/08/21/blockchain-introduction/"  title="构建第一个 Swift 区块链应用">
 <strong>下一篇</strong><br/> 
 <span>构建第一个 Swift 区块链应用
</span>
</a>
</div>

</nav>

	


<section id="comments" class="comment">
  <div id="gitcomment">
  </div>
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
    var gitment = new Gitment({
      id: "2018/08/28/swift-generics/",
      owner: "SwiftGGBot",
      repo: "gg-comment",
      oauth: {
        client_id: "8ed6aa0071e9d92f7ffc",
        client_secret: "29cc2c70290fad40a967780e5b49d86501348ddf",
      },
    })
    gitment.render('gitcomment')
    </script>
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#生活在一个特定类型编码的世界"><span class="toc-number">1.</span> <span class="toc-text">生活在一个特定类型编码的世界</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#问题"><span class="toc-number">2.</span> <span class="toc-text">问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#泛型的解决之道"><span class="toc-number">3.</span> <span class="toc-text">泛型的解决之道</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于-Equatable-协议"><span class="toc-number">4.</span> <span class="toc-text">关于 Equatable 协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义类型和泛型"><span class="toc-number">5.</span> <span class="toc-text">自定义类型和泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#遵守-Equatable-协议"><span class="toc-number">6.</span> <span class="toc-text">遵守 Equatable 协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#它实用吗？"><span class="toc-number">7.</span> <span class="toc-text">它实用吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#扩展阅读"><span class="toc-number">8.</span> <span class="toc-text">扩展阅读</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#须知"><span class="toc-number">9.</span> <span class="toc-text">须知</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/APPVENTURE/" title="APPVENTURE">APPVENTURE<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/Andyy-Hope/" title="Andyy Hope">Andyy Hope<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/AppCoda/" title="AppCoda">AppCoda<sup>43</sup></a></li>
		  
		
		  
			<li><a href="/categories/Arthur-Knopper/" title="Arthur Knopper">Arthur Knopper<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Big-O-Note-Taking/" title="Big O Note-Taking">Big O Note-Taking<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Coding-Explorer-Blog/" title="Coding Explorer Blog">Coding Explorer Blog<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Crunchy-Development/" title="Crunchy Development">Crunchy Development<sup>24</sup></a></li>
		  
		
		  
			<li><a href="/categories/Erica-Sadun/" title="Erica Sadun">Erica Sadun<sup>67</sup></a></li>
		  
		
		  
			<li><a href="/categories/IOSCREATOR/" title="IOSCREATOR">IOSCREATOR<sup>29</sup></a></li>
		  
		
		  
			<li><a href="/categories/Jacob-Bandes-Storch/" title="Jacob Bandes-Storch">Jacob Bandes-Storch<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Jameson-Quave/" title="Jameson Quave">Jameson Quave<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/JamesonQuave-com/" title="JamesonQuave.com">JamesonQuave.com<sup>18</sup></a></li>
		  
		
		  
			<li><a href="/categories/Jesse-Squires/" title="Jesse Squires">Jesse Squires<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/KHANLOU/" title="KHANLOU">KHANLOU<sup>21</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mike-Ash/" title="Mike Ash">Mike Ash<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift/NSHipster/" title="NSHipster">NSHipster<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/NSHipster/" title="NSHipster">NSHipster<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Natasha-The-Robot/" title="Natasha The Robot">Natasha The Robot<sup>48</sup></a></li>
		  
		
		  
			<li><a href="/categories/Ole-Begemann/" title="Ole Begemann">Ole Begemann<sup>36</sup></a></li>
		  
		
		  
			<li><a href="/categories/Ole-Begemannh/" title="Ole Begemannh">Ole Begemannh<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Open-Source-Swift/" title="Open Source Swift">Open Source Swift<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/Raj-Kandathi/" title="Raj Kandathi">Raj Kandathi<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Reinder-de-Vries/" title="Reinder de Vries">Reinder de Vries<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Russ-Bishop/" title="Russ Bishop">Russ Bishop<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Soroush-Khanlou/" title="Soroush Khanlou">Soroush Khanlou<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift/" title="Swift">Swift<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mike-Ash/Swift/" title="Swift">Swift<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift-and-Painless/" title="Swift and Painless">Swift and Painless<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/Swift-入门/" title="Swift 入门">Swift 入门<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift-进阶/" title="Swift 进阶">Swift 进阶<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Think-and-Build/" title="Think and Build">Think and Build<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Thomas-Hanning/" title="Thomas Hanning">Thomas Hanning<sup>22</sup></a></li>
		  
		
		  
			<li><a href="/categories/Thoughtbot/" title="Thoughtbot">Thoughtbot<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tomasz-Szulc/" title="Tomasz Szulc">Tomasz Szulc<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Wooji-Juice/" title="Wooji Juice">Wooji Juice<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/alisoftware/" title="alisoftware">alisoftware<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/alloc-init/" title="alloc-init">alloc-init<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/appcoda/" title="appcoda">appcoda<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/codingexplorer/" title="codingexplorer">codingexplorer<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/iAchieved-it/" title="iAchieved.it">iAchieved.it<sup>24</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS-开发/" title="iOS 开发">iOS 开发<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/iOS-开发/" title="iOS 开发">iOS 开发<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/khanlou-com/" title="khanlou.com">khanlou.com<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/machinethink/" title="machinethink">machinethink<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/medium-com/" title="medium.com">medium.com<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/mikeash-com/" title="mikeash.com">mikeash.com<sup>9</sup></a></li>
		  
		
		  
			<li><a href="/categories/radex-io/" title="radex.io">radex.io<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/swift-org/" title="swift.org">swift.org<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/swiftandpainless/" title="swiftandpainless">swiftandpainless<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/uraimo/" title="uraimo">uraimo<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创文章/" title="原创文章">原创文章<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/投稿/" title="投稿">投稿<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/直播资源/" title="直播资源">直播资源<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/社区问答/" title="社区问答">社区问答<sup>19</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Swift-进阶/" title="Swift 进阶">Swift 进阶<sup>169</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-入门/" title="Swift 入门">Swift 入门<sup>130</sup></a></li>
			
		
			
				<li><a href="/tags/Swift/" title="Swift">Swift<sup>91</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-开发/" title="iOS 开发">iOS 开发<sup>83</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-跨平台/" title="Swift 跨平台">Swift 跨平台<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-开源信息/" title="Swift 开源信息">Swift 开源信息<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/WatchOS-2/" title="WatchOS 2">WatchOS 2<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-3/" title="Swift 3">Swift 3<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-入门/" title="iOS 入门">iOS 入门<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Apple-TV-开发/" title="Apple TV 开发">Apple TV 开发<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Xcode/" title="Xcode">Xcode<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-9/" title="iOS 9">iOS 9<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/IOSCREATOR/" title="IOSCREATOR">IOSCREATOR<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/社区问答/" title="社区问答">社区问答<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Design-Patterns/" title="Design Patterns">Design Patterns<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/教程/" title="教程">教程<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/NSHipster/" title="NSHipster">NSHipster<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Swift-2/" title="Swift 2">Swift 2<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Jesse-Squires/" title="Jesse Squires">Jesse Squires<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/机器学习/" title="机器学习">机器学习<sup>2</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://c4ios.swift.gg" target="_blank" title="C4iOS 教程">C4iOS 教程</a>
            
          </li>
        
          <li>
            
            	<a href="http://swift.gg/2016/03/14/live-video/" target="_blank" title="SwiftGG直播">SwiftGG直播</a>
            
          </li>
        
          <li>
            
            	<a href="http://t.swift.gg/" target="_blank" title="T 沙龙">T 沙龙</a>
            
          </li>
        
          <li>
            
            	<a href="http://codebuild.me" target="_blank" title="Code Build Me">Code Build Me</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.saitjr.com" target="_blank" title="//TODO:">//TODO:</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.5isjyx.com/" target="_blank" title="chiba">chiba</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.cee.moe" target="_blank" title="Perfect Freeze">Perfect Freeze</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.swiftyper.com" target="_blank" title="小锅的 swift 之路">小锅的 swift 之路</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.futantan.com/" target="_blank" title="Prayer 的博客">Prayer 的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.csdn.net/mmoaay" target="_blank" title="画渣程序猿 mmoaay">画渣程序猿 mmoaay</a>
            
          </li>
        
          <li>
            
            	<a href="http://linusling.com" target="_blank" title="小铁匠的 swift 之路">小铁匠的 swift 之路</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.jianshu.com/users/596f2ba91ce9/latest_articles" target="_blank" title="ppppppmst 的简书博客">ppppppmst 的简书博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://chenmingbiao.github.io/" target="_blank" title="CMB 的博客">CMB 的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://wxgbridgeq.github.io/" target="_blank" title="BridgeQ">BridgeQ</a>
            
          </li>
        
          <li>
            
            	<a href="http://chengway.in" target="_blank" title="walkingway 的博客">walkingway 的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.dianqk.org" target="_blank" title="靛青K">靛青K</a>
            
          </li>
        
          <li>
            
            	<a href="http://ijack.pw/" target="_blank" title="JackAlan">JackAlan</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.swiftconchina.com" target="_blank" title="SwiftConChina">SwiftConChina</a>
            
          </li>
        
          <li>
            
            	<a href="http://swiftcn.io" target="_blank" title="Swift 中国">Swift 中国</a>
            
          </li>
        
          <li>
            
            	<a href="https://boxueio.com/" target="_blank" title="泊学">泊学</a>
            
          </li>
        
          <li>
            
            	<a href="https://bearychat.com/" target="_blank" title="BearyChat">BearyChat</a>
            
          </li>
        
          <li>
            
            	<a href="http://bbs.php-z.com" target="_blank" title="PHP-Z 论坛">PHP-Z 论坛</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.swiftguide.cn" target="_blank" title="官方文档">官方文档</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.upyun.com/" target="_blank" title="又拍云赞助图床">又拍云赞助图床</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="wechatpart">
	<p class="asidetitle">微信公众号</p>
	<img src="/img/wechat.jpg" />
</div>

</aside>
</div>
    </div>
    <footer>


<div id="footer" >
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="SwiftGG">SwiftGG</a>
		
		 | 
		<a href="http://www.miitbeian.gov.cn" target="_blank">浙ICP备14022870号-3</a>
		</p>
</div>
<img src="/img/logo_new.jpg" style="position: fixed; top: -9999px;height: 500px;width: 500px;">
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>
<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script src="/js/mm.js"></script>
<script src="/js/subscribe.js"></script>

<div id="swiftweekly" style="display:none;">
  <img id="closeme" src="/img/close.png">
  <span id="sw_slogan">SwiftGG 专属 Reveal 优惠：<b><a style="color: white;text-decoration:underline;" target="_blank" href="https://j.youzan.com/XzKhGY">领取立减 143 元！</a></b>&nbsp;</span>
  <!-- <form id="content"> -->
    <!-- <input name="email" id="sw_email" placeholder="输入邮箱地址" type="email" /><a class="sw_sub">订阅</a> -->
  <!-- </form> -->
</div>

<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script type="text/javascript">
$(document).ready(function(){

  

  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66150920-1', 'auto');
  ga('send', 'pageview');

</script>





<!-- Analytics End -->

<!-- Totop Begin -->
<!--
	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>
-->
<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
